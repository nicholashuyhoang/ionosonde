[config]
#
# Pseudorandom coded continuous wave ionosonde
#
instrument_name="VT HF Ionosonde"
short_name="vt_ionosonde"
n_range_gates=1000
max_plot_range=750.0
max_plot_dB=30.0
station_id=1
lat=37.229572
lon=-80.413940
require_gps=false
save_raw_voltage=false
# minimum time needed for GPS to settle
# 300 seconds is a good safe value
# use 0 if testing to startup faster
min_gps_lock_time=60
gps_holdover_time=1800.0

rx_channel="cha"
sample_rate=1000000
# decimation (20 kHz bandwidth), max altitude to save data
dec=50

# use ram disk to hold raw voltage
data_dir="/dev/shm"

# how many samples do we shift range
# needed to ensure correct range
range_shift=5

# list of codes to use
# how many samples long is the code sequence.
# all code sequences need to be the same length
code_len=1000 #Number of subpulses * IPP; therefore this is pulse width; pulse period determined by frequency_duration

# list of codes specified by type, pulse length, ipp, and bandwidth
# note that pulse_length=-1 means continuous code
code_type=["prn"]
pulse_length=[-1]
ipp=[1000] #(inter pulse period); reciprocal of PRF
bw=[50e3]

# code list (binary waveforms)
codes=["waveforms/code-l1000-b10-barker39_100k.bin"]


# tTable of center frequencies and codes. Format:
# Center frequency (MHz), Code number (refers to code list)
freqs=[ [1.025, 0],
        [1.075, 0],
        [1.125, 0],
        [1.175, 0],
        [1.225, 0],
        [1.275, 0],
        [1.325, 0],
        [1.375, 0],
        [1.425, 0],
        [1.475, 0],
        [1.525, 0],
        [1.575, 0],
        [1.625, 0],
        [1.675, 0],
        [1.725, 0],
        [1.775, 0],
        [1.825, 0],
        [1.875, 0],
        [1.925, 0],
        [1.975, 0],
        [2.025, 0],
        [2.075, 0],
        [2.125, 0],
        [2.175, 0],
        [2.225, 0],
        [2.275, 0],
        [2.325, 0],
        [2.375, 0],
        [2.425, 0],
        [2.475, 0],
        [2.525, 0],
        [2.575, 0],
        [2.625, 0],
        [2.675, 0],
        [2.725, 0],
        [2.775, 0],
        [2.825, 0],
        [2.875, 0],
        [2.925, 0],
        [2.975, 0],
        [3.025, 0],
        [3.075, 0],
        [3.125, 0],
        [3.175, 0],
        [3.225, 0],
        [3.275, 0],
        [3.325, 0],
        [3.375, 0],
        [3.425, 0],
        [3.475, 0],
        [3.525, 0],
        [3.575, 0],
        [3.625, 0],
        [3.675, 0],
        [3.725, 0],
        [3.775, 0],
        [3.825, 0],
        [3.875, 0],
        [3.925, 0],
        [3.975, 0],
        [4.025, 0],
        [4.075, 0],
        [4.125, 0],
        [4.175, 0],
        [4.225, 0],
        [4.275, 0],
        [4.325, 0],
        [4.375, 0],
        [4.425, 0],
        [4.475, 0],
        [4.525, 0],
        [4.575, 0],
        [4.625, 0],
        [4.675, 0],
        [4.725, 0],
        [4.775, 0],
        [4.825, 0],
        [4.875, 0],
        [4.925, 0],
        [4.975, 0],
        [5.025, 0],
        [5.075, 0],
        [5.125, 0],
        [5.175, 0],
        [5.225, 0],
        [5.275, 0],
        [5.325, 0],
        [5.375, 0],
        [5.425, 0],
        [5.475, 0],
        [5.525, 0],
        [5.575, 0],
        [5.625, 0],
        [5.675, 0],
        [5.725, 0],
        [5.775, 0],
        [5.825, 0],
        [5.875, 0],
        [5.925, 0],
        [5.975, 0],
        [6.025, 0],
        [6.075, 0],
        [6.125, 0],
        [6.175, 0],
        [6.225, 0],
        [6.275, 0],
        [6.325, 0],
        [6.375, 0],
        [6.425, 0],
        [6.475, 0],
        [6.525, 0],
        [6.575, 0],
        [6.625, 0],
        [6.675, 0],
        [6.725, 0],
        [6.775, 0],
        [6.825, 0],
        [6.875, 0],
        [6.925, 0],
        [6.975, 0],
        [7.025, 0],
        [7.075, 0],
        [7.125, 0],
        [7.175, 0],
        [7.225, 0],
        [7.275, 0],
        [7.325, 0],
        [7.375, 0],
        [7.425, 0],
        [7.475, 0],
        [7.525, 0],
        [7.575, 0],
        [7.625, 0],
        [7.675, 0],
        [7.725, 0],
        [7.775, 0],
        [7.825, 0],
        [7.875, 0],
        [7.925, 0],
        [7.975, 0],
        [8.025, 0],
        [8.075, 0],
        [8.125, 0],
        [8.175, 0],
        [8.225, 0],
        [8.275, 0],
        [8.325, 0],
        [8.375, 0],
        [8.425, 0],
        [8.475, 0],
        [8.525, 0],
        [8.575, 0],
        [8.625, 0],
        [8.675, 0],
        [8.725, 0],
        [8.775, 0],
        [8.825, 0],
        [8.875, 0],
        [8.925, 0],
        [8.975, 0],
        [9.025, 0],
        [9.075, 0],
        [9.125, 0],
        [9.175, 0],
        [9.225, 0],
        [9.275, 0],
        [9.325, 0],
        [9.375, 0],
        [9.425, 0],
        [9.475, 0],
        [9.525, 0],
        [9.575, 0],
        [9.625, 0],
        [9.675, 0],
        [9.725, 0],
        [9.775, 0],
        [9.825, 0],
        [9.875, 0],
        [9.925, 0],
        [9.975, 0],
        [10.025, 0],
        [10.075, 0],
        [10.125, 0],
        [10.175, 0],
        [10.225, 0],
        [10.275, 0],
        [10.325, 0],
        [10.375, 0],
        [10.425, 0],
        [10.475, 0],
        [10.525, 0],
        [10.575, 0],
        [10.625, 0],
        [10.675, 0],
        [10.725, 0],
        [10.775, 0],
        [10.825, 0],
        [10.875, 0],
        [10.925, 0],
        [10.975, 0],
        [11.025, 0],
        [11.075, 0],
        [11.125, 0],
        [11.175, 0],
        [11.225, 0],
        [11.275, 0],
        [11.325, 0],
        [11.375, 0],
        [11.425, 0],
        [11.475, 0],
        [11.525, 0],
        [11.575, 0],
        [11.625, 0],
        [11.675, 0],
        [11.725, 0],
        [11.775, 0],
        [11.825, 0],
        [11.875, 0],
        [11.925, 0],
        [11.975, 0]]

# should be between 0 and 1
# With BasicTX 0.8 amplitude is -4 dBm output power (measured with 50 ohm load on scope with V_pp)
# The LZY-22+ is 43 dB gain, which gives 33 dBm output power with this setting.
# This is 9 dB less that the maximum output of 42 dBm
transmit_amplitude=0.8
# how many seconds to we measure each frequency
frequency_duration=1 #waveform duration

# do we whiten the received spectrum to reduce
# the effect of radio stations
# this increases range-sidelobes but increases snr
spectral_whitening=true

# toggle antenna selector when frequency is above this value
# MHz
antenna_select_freq=3.4

tx_addr="10.41.1.14"
rx_addr="10.41.1.11"

tx_subdev="A:A"
# which port to use for measuring reflected power
tx_subdev_refl_pwr="A:A"
rx_subdev="A:A"

# this is where ionograms are stored
ionogram_path="./results"

# use strftime format
ionogram_subpath="%Y/%m/%d/%H"

# Use strftime format for ionogram_dirname
# ionogram_dirname="%%Y-%%m-%%dT%%H:00:00Z"
ionogram_dirname="%%Y/%%m/%%d/%%H"

# how many dB do we add to reflected power measurement
reflected_power_cal_dB=40
